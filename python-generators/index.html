<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.5625 'Source Sans Pro',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Source Sans Pro',sans-serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Source Serif Pro',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Source Serif Pro',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Source Serif Pro',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Source Serif Pro',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Source Serif Pro',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Source Serif Pro',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}ul{margin-left:1.5625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.5625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;font-size:0.85rem;line-height:1.5625rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;font-size:1rem;line-height:1.5625rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}blockquote{margin-left:0;margin-right:1.5625rem;margin-top:0;padding-bottom:0;padding-left:1.75781rem;padding-right:0;padding-top:0;margin-bottom:1.5625rem;font-size:1.1487rem;line-height:1.5625rem;color:hsla(0,0%,0%,0.59);border-left:0.58594rem solid;border-color:#fcea0e;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.5625rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.5625rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.5625rem;margin-bottom:calc(1.5625rem / 2);margin-top:calc(1.5625rem / 2);}li > ul{margin-left:1.5625rem;margin-bottom:calc(1.5625rem / 2);margin-top:calc(1.5625rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.5625rem / 2);}code{font-size:0.85rem;line-height:1.5625rem;}kbd{font-size:0.85rem;line-height:1.5625rem;}samp{font-size:0.85rem;line-height:1.5625rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.04167rem;padding-right:1.04167rem;padding-top:0.78125rem;padding-bottom:calc(0.78125rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:#fb251b;text-decoration:none;}a:hover,a:active{color:hsla(0,0%,0%,0.8);}h1,h2,h3,h4,h5,h6{margin-top:3.125rem;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.5625rem;color:hsla(0,0%,0%,0.8);font-weight:400;}blockquote cite:before{content:"â€” ";}@media only screen and (max-width:480px){blockquote{margin-left:-1.17188rem;margin-right:0;border-left:0.29297rem solid;border-color:#fcea0e;padding-left:0.87891rem;}}</style><style data-href="/styles.187e47158e9ede83c59b.css">code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.command-line-prompt{border-right:1px solid #999;display:block;float:left;font-size:100%;letter-spacing:-1px;margin-right:1em;pointer-events:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}body{font-size:1.125rem}.gatsby-highlight-code-line{background-color:#feb;display:block;margin-right:-1em;margin-left:-1em;padding-right:1em;padding-left:.75em;border-left:.25em solid #f99}.gatsby-highlight{background-color:#fdf6e3;border-radius:.3em;margin:.5em 0;padding:1em;overflow:auto;font-size:1rem}.gatsby-highlight pre[class*=language-]{background-color:transparent;margin:0;padding:0;overflow:initial;float:left;min-width:100%}.gatsby-highlight pre[class*=language-].line-numbers{padding-left:2.8em}code[class*=language-]{font-size:.8725em}pre[class*=language-]{white-space:pre-wrap}@media (max-width:570px){pre[class*=language-]{font-size:.8585em}.gatsby-highlight{padding:.5em}}@media (max-width:400px){pre[class*=language-]{font-size:.7585em}.gatsby-highlight{padding:.1em}}.command-line-prompt>span:before{color:#999;content:" ";display:block;padding-right:.8em}.command-line-prompt>span[data-user]:before{content:"[" attr(data-user) "@" attr(data-host) "] $"}.command-line-prompt>span[data-user=root]:before{content:"[" attr(data-user) "@" attr(data-host) "] #"}.command-line-prompt>span[data-prompt]:before{content:attr(data-prompt)}.Contacts-module--contact--2oV3v{border-radius:5px;display:flex;align-items:center;padding:2px 6px}.Contacts-module--contact--2oV3v svg{width:2rem;height:2rem}.Header-module--wrapper--3rZRj{background:#fff}.Header-module--container--1_Tic{box-shadow:4px 9px 19px -9px rgba(46,46,46,.08);display:flex;flex-direction:column;margin:0 auto 1.45rem;padding:1rem;align-items:center}.Header-module--profile--UfaXD{min-width:70px;max-width:150px;margin:1rem}.Header-module--profile--UfaXD img{margin:0}.Header-module--title--3JWMg{margin:0 1rem}.Header-module--title--3JWMg h1{font-size:1.875rem;margin:0}.Header-module--description--2J229{margin:1rem}.Header-module--contacts__list--35I1U{line-height:0}.Header-module--contacts__list--35I1U>a{display:inline-block;margin:0 5px}.Header-module--contacts__list--35I1U>a>div{background-color:hsla(0,0%,100%,.99);border-radius:5px;display:flex;align-items:center;padding:2px 6px;color:rgba(40,40,40,.99)}.Header-module--contacts__list--35I1U>a>div svg{width:2rem;height:2rem;fill:rgba(40,40,40,.99)}.Header-module--contacts__list--35I1U>a>div:hover{background-color:rgba(40,40,40,.99);color:hsla(0,0%,100%,.99)}.Header-module--contacts__list--35I1U>a>div:hover svg{fill:hsla(0,0%,100%,.99)}@media (max-width:780px){.Header-module--profile--UfaXD{max-width:100px}.Header-module--title--3JWMg h1{font-size:1.725rem}}.NavBar-module--nav--1LgU7{display:grid;grid-template-columns:54px auto;grid-template-rows:auto;align-items:center;padding:.7725rem .7725rem .6725rem;margin-bottom:1.45rem;max-width:800px}.NavBar-module--miniProfile--1dTnS{justify-self:center;max-width:55px}.NavBar-module--miniProfile--1dTnS a{display:table-cell}.NavBar-module--miniProfile--1dTnS img{margin-bottom:0}.NavBar-module--miniTitle--3uGCM{justify-self:left}.NavBar-module--miniTitle--3uGCM h1{font-size:18px;margin:0 .7rem}.Sidebar-module--sidebar--X4z2p{background-color:#fff;box-shadow:-8px 9px 14px rgba(0,0,0,.06);padding:85px 45px 0 10px;position:fixed;right:0;top:0;min-height:100vh;width:265px;z-index:10;display:flex;flex-direction:column;align-items:flex-end}.Sidebar-module--spring-btn__wrapper--2Qrog{position:absolute;top:27px;right:35px;z-index:12}.Sidebar-module--spring-btn__container--CZiIu{width:100%;height:100%;display:flex;align-items:flex-start;justify-content:center}.Sidebar-module--spring-btn__container--CZiIu .Sidebar-module--btn--39pDC{height:28px;width:28px;padding:0;margin:0;display:flex;align-items:center;justify-content:center;background-color:transparent}.Sidebar-module--spring-btn__container--CZiIu .Sidebar-module--animated--z49M3{position:absolute;cursor:pointer;will-change:transform,opacity}.Sidebar-module--spring-btn__container--CZiIu .Sidebar-module--animated--z49M3 svg{fill:#505050}.Sidebar-module--spring-btn__container--CZiIu .Sidebar-module--animated--z49M3 svg:hover{fill:#282828}.Sidebar-module--contacts__list--1j8h2{line-height:0;display:flex;flex-direction:column;align-items:flex-end}.Sidebar-module--contacts__list--1j8h2>a{display:inline-block}.Sidebar-module--contacts__list--1j8h2>a>div{border-radius:5px;display:flex;flex-direction:row-reverse;align-items:center;padding:2px 0;color:#646464;margin-top:5px}.Sidebar-module--contacts__list--1j8h2>a>div span{margin-right:8px}.Sidebar-module--contacts__list--1j8h2>a>div svg{width:2rem;height:2rem;fill:#646464}.Sidebar-module--contacts__list--1j8h2>a>div:hover{color:#141414}.Sidebar-module--contacts__list--1j8h2>a>div:hover svg{fill:#141414}.Sidebar-module--delimeter--1KQOd{background:#dcdcdc;margin:25px 2px;height:8px;width:80px}.Sidebar-module--link---ZkJc{margin:8px 3px;color:#646464}.Sidebar-module--link---ZkJc :hover{color:#141414}.Layout-module--layout--3Pyz6{margin:0 auto;max-width:800px;padding:0 1.0875rem 1.45rem}.Layout-module--layout--3Pyz6 .Layout-module--content--23chO{min-height:80vh}.Layout-module--layout--3Pyz6 blockquote{background:#f9f9f9;font-style:italic;border-left:10px solid #bbb;margin:1.5em .5rem;padding:.4rem 1rem;quotes:"\201C" "\201D" "\2018" "\2019";font-size:1rem}.Layout-module--layout--3Pyz6 blockquote:before{color:#ccc;content:open-quote;font-size:4em;line-height:.1em;margin-right:.2em;vertical-align:-.4em}.Layout-module--layout--3Pyz6 blockquote p{display:inline}@media (max-width:460px){.Layout-module--layout--3Pyz6{width:100%;padding:0}}.Tags-module--tags__list--2uniP{display:flex;justify-content:flex-start;align-items:flex-start;flex-wrap:wrap;margin:0;padding:0}.Tags-module--tags__list-item--2cArz{display:flex;align-items:center;padding:.1rem .37rem;margin:.28rem .28rem 0 0;background-color:rgba(21,66,163,.85);color:#fff;font-size:13px;border-radius:4px}.Tags-module--tags__list-item-icon--32khN{display:inline-block}.Tags-module--tags__list-item-icon--32khN svg{width:18px;-webkit-filter:invert(.99);filter:invert(.99);margin:0 3px -5px 0}.Tags-module--hashtag--lnfoq{color:#67717d}.blog-post-module--article--2aW_3{max-width:800px;margin:0 auto 2rem;padding:0 .6rem 1.5rem;box-shadow:0 20px 10px -10px rgba(0,0,0,.04)}.blog-post-module--dateWrapper--3K-_O{color:#67717d;display:flex;justify-content:flex-start;align-items:flex-start}.blog-post-module--dateWrapper--3K-_O .blog-post-module--dateIcon--2joj4{margin-top:0}.blog-post-module--dateWrapper--3K-_O .blog-post-module--dateIcon--2joj4 svg{width:20px;-webkit-filter:invert(.6);filter:invert(.6);display:inline;margin:8px 0 0}.blog-post-module--dateWrapper--3K-_O .blog-post-module--dateText--1kEfw{font-size:14px;margin-top:8px;margin-left:14px}.blog-post-module--tagsWrapper--3wgOP{color:#67717d;display:flex;justify-content:flex-start;align-items:flex-start}.blog-post-module--tagsWrapper--3wgOP .blog-post-module--tagIcon--7bFtR{margin-top:0}.blog-post-module--tagsWrapper--3wgOP .blog-post-module--tagIcon--7bFtR svg{width:20px;-webkit-filter:invert(.6);filter:invert(.6);display:inline;margin:10px 0 0}.blog-post-module--tagsWrapper--3wgOP .blog-post-module--tags--2K_EU{margin-top:8px;margin-left:14px}.blog-post-module--navlinks--Iep78{max-width:800px;margin:3rem auto}.blog-post-module--navprev--1GRP9{display:inline-block;margin-right:2rem;margin-bottom:1rem}.blog-post-module--navnext--3Yd9-{display:inline-block;margin-left:2rem;float:right}.blog-post-module--navlinkdiv--f3pWb a:hover{text-decoration:underline}.index-module--blogpostsList--1Ht1s{max-width:800px;margin:0 auto}.index-module--blogpost--1aLtT{border-left:15px solid rgba(21,66,163,.85);box-shadow:4px 9px 19px -9px rgba(46,46,46,.15);padding:1px 25px;margin:50px 0}.index-module--excerpt--2pHHd{color:#3c3c3c}.index-module--excerpt--2pHHd ul{margin-bottom:.8rem}.index-module--excerpt--2pHHd ul li{margin-bottom:0}.index-module--excerpt--2pHHd h1,.index-module--excerpt--2pHHd h2,.index-module--excerpt--2pHHd h3,.index-module--excerpt--2pHHd h4,.index-module--excerpt--2pHHd h5,.index-module--excerpt--2pHHd h6{color:#3c3c3c;margin-bottom:.8rem;margin-top:1.2rem}@media (max-width:460px){.index-module--blogpost--1aLtT{border-left:12px solid rgba(21,66,163,.85);box-shadow:4px 9px 19px -9px rgba(46,46,46,.15);padding:1px 20px;margin:30px 0}}</style><meta name="generator" content="Gatsby 2.20.3"/><title data-react-helmet="true"></title><link rel="icon" href="/icons/icon-48x48.png?v=1c2d4ebaa83efc703814c3f765792108"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#004C99"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=1c2d4ebaa83efc703814c3f765792108"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=1c2d4ebaa83efc703814c3f765792108"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=1c2d4ebaa83efc703814c3f765792108"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=1c2d4ebaa83efc703814c3f765792108"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=1c2d4ebaa83efc703814c3f765792108"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=1c2d4ebaa83efc703814c3f765792108"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=1c2d4ebaa83efc703814c3f765792108"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=1c2d4ebaa83efc703814c3f765792108"/><link href="//fonts.googleapis.com/css?family=Source+Serif+Pro:600|Source+Sans+Pro:400,400i,700" rel="stylesheet" type="text/css"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link as="script" rel="preload" href="/webpack-runtime-021c94a6dee35f2ca117.js"/><link as="script" rel="preload" href="/app-bfa7222071ec5d114ab1.js"/><link as="script" rel="preload" href="/styles-277438bf92f1a9bf84e5.js"/><link as="script" rel="preload" href="/commons-02da7c81015f33fc39a7.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-74b0447917af3fdfbd65.js"/><link as="fetch" rel="preload" href="/page-data/python-generators/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div style="box-shadow:10px 9px 14px rgba(0,0,0,.025)"><div class="NavBar-module--nav--1LgU7"><div class="NavBar-module--miniProfile--1dTnS"><img alt="" style="border-radius:50%" src="/static/profile_pic_888-6355e50962f568ef5a1a7ee334859095.jpg"/></div><div class="NavBar-module--miniTitle--3uGCM"><h1><a style="color:black;text-decoration:none" href="/">Evgeny Roskach</a></h1></div></div></div><div class="Sidebar-module--spring-btn__wrapper--2Qrog"><div class="Sidebar-module--spring-btn__container--CZiIu"><div class="Sidebar-module--btn--39pDC Sidebar-module--animated--z49M3" style="opacity:1;transform:rotate(0deg) scale(1, 1)"><svg height="27" viewBox="0 -53 384 384" width="27"><path d="M368 154.668H16c-8.832 0-16-7.168-16-16s7.168-16 16-16h352c8.832 0 16 7.168 16 16s-7.168 16-16 16zm0 0M368 32H16C7.168 32 0 24.832 0 16S7.168 0 16 0h352c8.832 0 16 7.168 16 16s-7.168 16-16 16zm0 0M368 277.332H16c-8.832 0-16-7.168-16-16s7.168-16 16-16h352c8.832 0 16 7.168 16 16s-7.168 16-16 16zm0 0"></path></svg></div><div class="Sidebar-module--btn--39pDC Sidebar-module--animated--z49M3" style="opacity:0;transform:rotate(0deg) scale(0, 0)"><svg viewBox="0 0 492 492" width="22" height="22"><path d="M300.188 246L484.14 62.04c5.06-5.064 7.852-11.82 7.86-19.024 0-7.208-2.792-13.972-7.86-19.028L468.02 7.872C462.952 2.796 456.196.016 448.984.016c-7.2 0-13.956 2.78-19.024 7.856L246.008 191.82 62.048 7.872C56.988 2.796 50.228.016 43.02.016c-7.2 0-13.96 2.78-19.02 7.856L7.872 23.988c-10.496 10.496-10.496 27.568 0 38.052L191.828 246 7.872 429.952C2.808 435.024.02 441.78.02 448.984c0 7.204 2.788 13.96 7.852 19.028l16.124 16.116c5.06 5.072 11.824 7.856 19.02 7.856 7.208 0 13.968-2.784 19.028-7.856l183.96-183.952 183.952 183.952c5.068 5.072 11.824 7.856 19.024 7.856h.008c7.204 0 13.96-2.784 19.028-7.856l16.12-16.116c5.06-5.064 7.852-11.824 7.852-19.028 0-7.204-2.792-13.96-7.852-19.028L300.188 246z"></path></svg></div></div></div><div class="Sidebar-module--sidebar--X4z2p" style="right:-300px"><div class="Sidebar-module--contacts__list--1j8h2"><a href="https://github.com/genyrosk" target="_blank"><div class="Contacts-module--contact--2oV3v"><svg viewBox="0 0 30 30"><path d="M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z"></path></svg><span>@genyrosk</span></div></a><a href="https://www.linkedin.com/in/eroskach/" target="_blank"><div class="Contacts-module--contact--2oV3v"><svg viewBox="0 0 30 30"><path d="M24,4H6C4.895,4,4,4.895,4,6v18c0,1.105,0.895,2,2,2h18c1.105,0,2-0.895,2-2V6C26,4.895,25.105,4,24,4z M10.954,22h-2.95 v-9.492h2.95V22z M9.449,11.151c-0.951,0-1.72-0.771-1.72-1.72c0-0.949,0.77-1.719,1.72-1.719c0.948,0,1.719,0.771,1.719,1.719 C11.168,10.38,10.397,11.151,9.449,11.151z M22.004,22h-2.948v-4.616c0-1.101-0.02-2.517-1.533-2.517 c-1.535,0-1.771,1.199-1.771,2.437V22h-2.948v-9.492h2.83v1.297h0.04c0.394-0.746,1.356-1.533,2.791-1.533 c2.987,0,3.539,1.966,3.539,4.522V22z"></path></svg><span>in/eroskach</span></div></a></div><div class="Sidebar-module--delimeter--1KQOd"></div><a class="Sidebar-module--link---ZkJc" href="/">home</a><a class="Sidebar-module--link---ZkJc" href="/about-me/">about me</a></div><div class="Layout-module--layout--3Pyz6"><div class="Layout-module--content--23chO"><div class="blog-post-module--article--2aW_3"><div style="margin-bottom:40px"><h1>A gentle introduction to Python generators</h1><div class="blog-post-module--tagsWrapper--3wgOP"><div><ul class="Tags-module--tags__list--2uniP"><li class="Tags-module--tags__list-item--2cArz"><span class="Tags-module--tags__list-item-icon--32khN"><svg viewBox="0 0 486.982 486.982"><path d="M131.35,422.969c14.6,14.6,38.3,14.6,52.9,0l181.1-181.1c5.2-5.2,9.2-11.4,11.8-18c18.2,5.1,35.9,7.8,51.5,7.7c38.6-0.2,51.4-17.1,55.6-27.2c4.2-10,7.2-31-19.9-58.6c-0.3-0.3-0.6-0.6-0.9-0.9c-16.8-16.8-41.2-32.3-68.9-43.8c-5.1-2.1-10.2-4-15.2-5.8v-0.3c-0.3-22.2-18.2-40.1-40.4-40.4l-108.5-1.5c-14.4-0.2-28.2,5.4-38.3,15.6l-181.2,181.1c-14.6,14.6-14.6,38.3,0,52.9L131.35,422.969z M270.95,117.869c12.1-12.1,31.7-12.1,43.8,0c7.2,7.2,10.1,17.1,8.7,26.4c11.9,8.4,26.1,16.2,41.3,22.5c5.4,2.2,10.6,4.2,15.6,5.9l-0.6-43.6c0.9,0.4,1.7,0.7,2.6,1.1c23.7,9.9,45,23.3,58.7,37c0.2,0.2,0.4,0.4,0.6,0.6c13,13.3,14.4,21.8,13.3,24.4c-3.4,8.1-39.9,15.3-95.3-7.8c-16.2-6.8-31.4-15.2-43.7-24.3c-0.4,0.5-0.9,1-1.3,1.5c-12.1,12.1-31.7,12.1-43.8,0C258.85,149.569,258.85,129.969,270.95,117.869z"></path></svg></span><span>python</span></li><li class="Tags-module--tags__list-item--2cArz"><span class="Tags-module--tags__list-item-icon--32khN"><svg viewBox="0 0 486.982 486.982"><path d="M131.35,422.969c14.6,14.6,38.3,14.6,52.9,0l181.1-181.1c5.2-5.2,9.2-11.4,11.8-18c18.2,5.1,35.9,7.8,51.5,7.7c38.6-0.2,51.4-17.1,55.6-27.2c4.2-10,7.2-31-19.9-58.6c-0.3-0.3-0.6-0.6-0.9-0.9c-16.8-16.8-41.2-32.3-68.9-43.8c-5.1-2.1-10.2-4-15.2-5.8v-0.3c-0.3-22.2-18.2-40.1-40.4-40.4l-108.5-1.5c-14.4-0.2-28.2,5.4-38.3,15.6l-181.2,181.1c-14.6,14.6-14.6,38.3,0,52.9L131.35,422.969z M270.95,117.869c12.1-12.1,31.7-12.1,43.8,0c7.2,7.2,10.1,17.1,8.7,26.4c11.9,8.4,26.1,16.2,41.3,22.5c5.4,2.2,10.6,4.2,15.6,5.9l-0.6-43.6c0.9,0.4,1.7,0.7,2.6,1.1c23.7,9.9,45,23.3,58.7,37c0.2,0.2,0.4,0.4,0.6,0.6c13,13.3,14.4,21.8,13.3,24.4c-3.4,8.1-39.9,15.3-95.3-7.8c-16.2-6.8-31.4-15.2-43.7-24.3c-0.4,0.5-0.9,1-1.3,1.5c-12.1,12.1-31.7,12.1-43.8,0C258.85,149.569,258.85,129.969,270.95,117.869z"></path></svg></span><span>decorators</span></li><li class="Tags-module--tags__list-item--2cArz"><span class="Tags-module--tags__list-item-icon--32khN"><svg viewBox="0 0 486.982 486.982"><path d="M131.35,422.969c14.6,14.6,38.3,14.6,52.9,0l181.1-181.1c5.2-5.2,9.2-11.4,11.8-18c18.2,5.1,35.9,7.8,51.5,7.7c38.6-0.2,51.4-17.1,55.6-27.2c4.2-10,7.2-31-19.9-58.6c-0.3-0.3-0.6-0.6-0.9-0.9c-16.8-16.8-41.2-32.3-68.9-43.8c-5.1-2.1-10.2-4-15.2-5.8v-0.3c-0.3-22.2-18.2-40.1-40.4-40.4l-108.5-1.5c-14.4-0.2-28.2,5.4-38.3,15.6l-181.2,181.1c-14.6,14.6-14.6,38.3,0,52.9L131.35,422.969z M270.95,117.869c12.1-12.1,31.7-12.1,43.8,0c7.2,7.2,10.1,17.1,8.7,26.4c11.9,8.4,26.1,16.2,41.3,22.5c5.4,2.2,10.6,4.2,15.6,5.9l-0.6-43.6c0.9,0.4,1.7,0.7,2.6,1.1c23.7,9.9,45,23.3,58.7,37c0.2,0.2,0.4,0.4,0.6,0.6c13,13.3,14.4,21.8,13.3,24.4c-3.4,8.1-39.9,15.3-95.3-7.8c-16.2-6.8-31.4-15.2-43.7-24.3c-0.4,0.5-0.9,1-1.3,1.5c-12.1,12.1-31.7,12.1-43.8,0C258.85,149.569,258.85,129.969,270.95,117.869z"></path></svg></span><span>programming</span></li><li class="Tags-module--tags__list-item--2cArz"><span class="Tags-module--tags__list-item-icon--32khN"><svg viewBox="0 0 486.982 486.982"><path d="M131.35,422.969c14.6,14.6,38.3,14.6,52.9,0l181.1-181.1c5.2-5.2,9.2-11.4,11.8-18c18.2,5.1,35.9,7.8,51.5,7.7c38.6-0.2,51.4-17.1,55.6-27.2c4.2-10,7.2-31-19.9-58.6c-0.3-0.3-0.6-0.6-0.9-0.9c-16.8-16.8-41.2-32.3-68.9-43.8c-5.1-2.1-10.2-4-15.2-5.8v-0.3c-0.3-22.2-18.2-40.1-40.4-40.4l-108.5-1.5c-14.4-0.2-28.2,5.4-38.3,15.6l-181.2,181.1c-14.6,14.6-14.6,38.3,0,52.9L131.35,422.969z M270.95,117.869c12.1-12.1,31.7-12.1,43.8,0c7.2,7.2,10.1,17.1,8.7,26.4c11.9,8.4,26.1,16.2,41.3,22.5c5.4,2.2,10.6,4.2,15.6,5.9l-0.6-43.6c0.9,0.4,1.7,0.7,2.6,1.1c23.7,9.9,45,23.3,58.7,37c0.2,0.2,0.4,0.4,0.6,0.6c13,13.3,14.4,21.8,13.3,24.4c-3.4,8.1-39.9,15.3-95.3-7.8c-16.2-6.8-31.4-15.2-43.7-24.3c-0.4,0.5-0.9,1-1.3,1.5c-12.1,12.1-31.7,12.1-43.8,0C258.85,149.569,258.85,129.969,270.95,117.869z"></path></svg></span><span>tutorial</span></li><li class="Tags-module--tags__list-item--2cArz"><span class="Tags-module--tags__list-item-icon--32khN"><svg viewBox="0 0 486.982 486.982"><path d="M131.35,422.969c14.6,14.6,38.3,14.6,52.9,0l181.1-181.1c5.2-5.2,9.2-11.4,11.8-18c18.2,5.1,35.9,7.8,51.5,7.7c38.6-0.2,51.4-17.1,55.6-27.2c4.2-10,7.2-31-19.9-58.6c-0.3-0.3-0.6-0.6-0.9-0.9c-16.8-16.8-41.2-32.3-68.9-43.8c-5.1-2.1-10.2-4-15.2-5.8v-0.3c-0.3-22.2-18.2-40.1-40.4-40.4l-108.5-1.5c-14.4-0.2-28.2,5.4-38.3,15.6l-181.2,181.1c-14.6,14.6-14.6,38.3,0,52.9L131.35,422.969z M270.95,117.869c12.1-12.1,31.7-12.1,43.8,0c7.2,7.2,10.1,17.1,8.7,26.4c11.9,8.4,26.1,16.2,41.3,22.5c5.4,2.2,10.6,4.2,15.6,5.9l-0.6-43.6c0.9,0.4,1.7,0.7,2.6,1.1c23.7,9.9,45,23.3,58.7,37c0.2,0.2,0.4,0.4,0.6,0.6c13,13.3,14.4,21.8,13.3,24.4c-3.4,8.1-39.9,15.3-95.3-7.8c-16.2-6.8-31.4-15.2-43.7-24.3c-0.4,0.5-0.9,1-1.3,1.5c-12.1,12.1-31.7,12.1-43.8,0C258.85,149.569,258.85,129.969,270.95,117.869z"></path></svg></span><span>prime numbers</span></li><li class="Tags-module--tags__list-item--2cArz"><span class="Tags-module--tags__list-item-icon--32khN"><svg viewBox="0 0 486.982 486.982"><path d="M131.35,422.969c14.6,14.6,38.3,14.6,52.9,0l181.1-181.1c5.2-5.2,9.2-11.4,11.8-18c18.2,5.1,35.9,7.8,51.5,7.7c38.6-0.2,51.4-17.1,55.6-27.2c4.2-10,7.2-31-19.9-58.6c-0.3-0.3-0.6-0.6-0.9-0.9c-16.8-16.8-41.2-32.3-68.9-43.8c-5.1-2.1-10.2-4-15.2-5.8v-0.3c-0.3-22.2-18.2-40.1-40.4-40.4l-108.5-1.5c-14.4-0.2-28.2,5.4-38.3,15.6l-181.2,181.1c-14.6,14.6-14.6,38.3,0,52.9L131.35,422.969z M270.95,117.869c12.1-12.1,31.7-12.1,43.8,0c7.2,7.2,10.1,17.1,8.7,26.4c11.9,8.4,26.1,16.2,41.3,22.5c5.4,2.2,10.6,4.2,15.6,5.9l-0.6-43.6c0.9,0.4,1.7,0.7,2.6,1.1c23.7,9.9,45,23.3,58.7,37c0.2,0.2,0.4,0.4,0.6,0.6c13,13.3,14.4,21.8,13.3,24.4c-3.4,8.1-39.9,15.3-95.3-7.8c-16.2-6.8-31.4-15.2-43.7-24.3c-0.4,0.5-0.9,1-1.3,1.5c-12.1,12.1-31.7,12.1-43.8,0C258.85,149.569,258.85,129.969,270.95,117.869z"></path></svg></span><span>sql</span></li></ul></div></div><div class="blog-post-module--dateWrapper--3K-_O"><div class="blog-post-module--dateIcon--2joj4"><svg viewBox="0 0 485.213 485.212"><path d="M60.652,75.816V15.163C60.652,6.781,67.433,0,75.817,0c8.38,0,15.161,6.781,15.161,15.163v60.653c0,8.38-6.781,15.161-15.161,15.161C67.433,90.978,60.652,84.196,60.652,75.816z M318.424,90.978c8.378,0,15.163-6.781,15.163-15.161V15.163C333.587,6.781,326.802,0,318.424,0c-8.382,0-15.168,6.781-15.168,15.163v60.653C303.256,84.196,310.042,90.978,318.424,90.978z M485.212,363.906c0,66.996-54.312,121.307-121.303,121.307c-66.986,0-121.302-54.311-121.302-121.307c0-66.986,54.315-121.3,121.302-121.3C430.9,242.606,485.212,296.919,485.212,363.906zM454.89,363.906c0-50.161-40.81-90.976-90.98-90.976c-50.166,0-90.976,40.814-90.976,90.976c0,50.171,40.81,90.98,90.976,90.98C414.08,454.886,454.89,414.077,454.89,363.906z M121.305,181.955H60.652v60.651h60.653V181.955z M60.652,333.584h60.653V272.93H60.652V333.584z M151.629,242.606h60.654v-60.651h-60.654V242.606z M151.629,333.584h60.654V272.93h-60.654V333.584zM30.328,360.891V151.628h333.582v60.653h30.327V94c0-18.421-14.692-33.349-32.843-33.349h-12.647v15.166c0,16.701-13.596,30.325-30.322,30.325c-16.731,0-30.326-13.624-30.326-30.325V60.651H106.14v15.166c0,16.701-13.593,30.325-30.322,30.325c-16.733,0-30.327-13.624-30.327-30.325V60.651H32.859C14.707,60.651,0.001,75.579,0.001,94v266.892c0,18.36,14.706,33.346,32.858,33.346h179.424v-30.331H32.859C31.485,363.906,30.328,362.487,30.328,360.891zM303.256,242.606v-60.651h-60.648v60.651H303.256z M409.399,363.906h-45.49v-45.49c0-8.377-6.781-15.158-15.163-15.158s-15.159,6.781-15.159,15.158v60.658c0,8.378,6.777,15.163,15.159,15.163h60.653c8.382,0,15.163-6.785,15.163-15.163C424.562,370.692,417.781,363.906,409.399,363.906z"></path></svg></div><div class="blog-post-module--dateText--1kEfw">Dec 29, 2018<!-- --> <span> Â· </span> <!-- -->11<!-- --> min read</div></div></div><div><h4><strong><em>There are already many very helpful tutorials on the subject out there. In this piece I wanted to share my own take and experience with python generators that I have gathered while working on production-level Python code.</em></strong></h4>
<!-- # Intro -->
<div class="custom-block snippet"><div class="custom-block-body"><p>Whether you are familiar with Python generators or you have only heard a thing or two about them, allow me to summarise the 2 main properties of generator functions: </p><ul>
<li>generators are <strong>stateful</strong> functions. </li>
<li>generators <strong>delay computations until necessary</strong>. </li>
</ul><p>As you are about to see, these properties make generators incredibly useful. </p></div></div>
<h2>Generator functions vs generator instances</h2>
<p>Let's take a look at a simple example: </p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">generator_func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    a <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">yield</span> a
    a <span class="token operator">=</span> <span class="token number">10</span>
    <span class="token keyword">yield</span> a</code></pre></div>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> generator_inst <span class="token operator">=</span> generator_func<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<p>Notice how we're using the special <code class="language-text">yield</code> statement instead of the typical <code class="language-text">return</code>. This is done on purpose: <code class="language-text">generator_func</code> is a <strong>generator function</strong> while <code class="language-text">generator_inst</code> is a <strong>generator instance</strong>, the "true" generator if you prefer. </p>
<p>The purpose of a generator function is to build the generator instance, while the generator instance is the actual object that is going to run the specified code. This is because, as we will see more in detail later, <strong>generators are stateful</strong>. Thus we need to initialize an instance of this generator in its initial state, that will change everytime we make call it. </p>
<p>We can trace an analogy with Python classes: everything starts with the class definition, which describes how different parts of it work together, and when called returns an instance of itself that holds all the inner methods and variables. In short, class definitions are meant to define and build, while class instances are meant to be built and executed. </p>
<p>As you might have inferred based on this analogy, a generator instance, just like a class instance, is not a value. A generator instance is a <strong>mapped computation</strong> object that sits in a certain memory address (unlike functions). We can check it like so: </p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> generator_func
<span class="token operator">&lt;</span>function __main__<span class="token punctuation">.</span>generator_func<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">></span>
<span class="token operator">>></span><span class="token operator">></span> generator_instance
<span class="token operator">&lt;</span>generator <span class="token builtin">object</span> generator at <span class="token number">0x1111401a8</span><span class="token operator">></span></code></pre></div>
<p>Notice how the generator instance is an object located in the <code class="language-text">0x1111401a8</code> memory address. </p>
<p>From now on we'll refer to the generator instance simply as a <em>generator</em>. Albeit, don't be suprised if the term 'generator' is used to refer to the generator function as well. </p>
<h2>Retrieve values from generators using <code class="language-text">yield</code>/<code class="language-text">next</code></h2>
<p>At this point, you might be thinking:</p>
<h3><em>"Wait... but if inspecting the generator returns this address that stores the computation, how do I access the value that it's supposed to return ?"</em></h3>
<p>This is where the <code class="language-text">yield</code>/<code class="language-text">next</code> pair truly kicks in. </p>
<p><code class="language-text">yield</code> is a statment, i.e. a syntactic expression, that specifies the value that a generator returns, or, more precisely, the value that the generator <strong>yields</strong>, while <code class="language-text">next</code> is a special Python function that summons the generator's inner code to execute until it encounters a <code class="language-text">yield</code> statment, at which point it simply returns (yields) the specified value. </p>
<p>The reason why the generator <em>yields</em> instead of <em>returning</em>, is because a function return implies that the function has finished executing, that there's nothing left for that function to do. A generator can <em>yield</em> as many values as a programmer desires. It can <em>yield</em> values indefinetely in fact. When the <code class="language-text">return</code> expression is used in a generator, the generator exits and computation is finished. </p>
<p>Following our class analogy, you can think of <code class="language-text">next</code> as a class method. </p>
<p>Let's look at our example again:</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">generator_func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    a <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">yield</span> a
    a <span class="token operator">=</span> <span class="token number">10</span>
    <span class="token keyword">yield</span> a
    
generator_inst <span class="token operator">=</span> generator_func<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<p>Let's pass the generator instance to the special <code class="language-text">next</code> function.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">next</span><span class="token punctuation">(</span>generator_inst<span class="token punctuation">)</span>
<span class="token number">0</span></code></pre></div>
<p>Awesome ! We got a value out of our generator ! So what just happened ? </p>
<p>The generator started on line 1, and assigned <code class="language-text">0</code> to the variable <code class="language-text">a</code>. Then it executed the <code class="language-text">yield a</code> statement and yielded the value of <code class="language-text">a</code>. </p>
<h3><em>"So... is this it then ?"</em></h3>
<p>Well, the generator is now <strong>paused</strong>: it stopped at the yield statement, and is waiting for us to call it again to resume its computation. So let's do just that:</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">next</span><span class="token punctuation">(</span>generator_inst<span class="token punctuation">)</span>
<span class="token number">10</span></code></pre></div>
<p>We got the new value of <code class="language-text">a</code> out ! Let's try one more time:</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">next</span><span class="token punctuation">(</span>generator_inst<span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
StopIteration                             Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span>
<span class="token operator">&lt;</span>ipython<span class="token operator">-</span><span class="token builtin">input</span><span class="token operator">-</span><span class="token number">5</span><span class="token operator">-</span><span class="token number">50ee8ff2a4f6</span><span class="token operator">></span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">></span> <span class="token number">1</span> <span class="token builtin">next</span><span class="token punctuation">(</span>generator_inst<span class="token punctuation">)</span>

StopIteration<span class="token punctuation">:</span></code></pre></div>
<p>Oh oh, something wrong must have happened there... But this is actually the expected behaviour: once the Python interpreter understand that there's not more code to be executed inside of a generator, it will promptly raise a special exception called <code class="language-text">StopIteration</code>. In fact, the exact same thing will happen if we add a <code class="language-text">return</code> statement at the end:</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">generator_func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    a <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">yield</span> a
    a <span class="token operator">=</span> <span class="token number">10</span>
    <span class="token keyword">yield</span> a
    <span class="token keyword">return</span>
    
generator_inst <span class="token operator">=</span> generator_func<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token builtin">next</span><span class="token punctuation">(</span>generator_inst<span class="token punctuation">)</span> <span class="token comment"># yields 0</span>
<span class="token builtin">next</span><span class="token punctuation">(</span>generator_inst<span class="token punctuation">)</span> <span class="token comment"># yields 10</span>
<span class="token builtin">next</span><span class="token punctuation">(</span>generator_inst<span class="token punctuation">)</span> <span class="token comment"># StopIteration is raised</span></code></pre></div>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token number">0</span>
<span class="token number">10</span>
---------------------------------------------------------------------------
StopIteration                             Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span>
<span class="token operator">&lt;</span>ipython-input-5-50ee8ff2a4f<span class="token operator"><span class="token file-descriptor important">6</span>></span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>
----<span class="token operator">></span> <span class="token number">1</span> next<span class="token punctuation">(</span>generator_inst<span class="token punctuation">)</span>

StopIteration:</code></pre></div>
<p>You might be shaking your head and wondering why has it been designed this way. Can't the generator signal that it finished in some other way ? Well, not really, not in Python at least. </p>
<p>But this exception is actually very useful, it can be easily captured and will thus prevent unnecessary computation. </p>
<p>You can of course watch out for the exception explcitely:</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">generator_inst <span class="token operator">=</span> generator_func<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">while</span> true<span class="token punctuation">:</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        value <span class="token operator">=</span> <span class="token builtin">next</span><span class="token punctuation">(</span>generator_inst<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token keyword">except</span> StopIteration<span class="token punctuation">:</span>
        <span class="token keyword">break</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'done'</span><span class="token punctuation">)</span></code></pre></div>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token number">0</span>
<span class="token number">10</span>
<span class="token keyword">done</span></code></pre></div>
<p>But the Python way would be do it in a for loop. Why ? Because in additionto calling <code class="language-text">next</code> on the generator for you, Python <code class="language-text">for</code> loops automatically check for the <code class="language-text">StopIteration</code> exception for you and will exit the loop context as soon as this exception is raised. </p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">for</span> value <span class="token keyword">in</span> generator_func<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># you can call the function immediately</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'done'</span><span class="token punctuation">)</span></code></pre></div>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token number">0</span>
<span class="token number">10</span>
<span class="token keyword">done</span></code></pre></div>
<p>Much, much, much neater. </p>
<h2>Generators are stateful</h2>
<p>This means that in between calls, a generator is capable of storing state. Think of state as a variable or a collection of variables that holds values. A generator is thus capable of returning values that depend on that state. </p>
<p>Let us illustrate it with another generator function where we have a stateful variable <code class="language-text">a</code>:</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">generator_func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    a <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">while</span> a <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">:</span>
        a <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">yield</span> a
        
g <span class="token operator">=</span> generator_func<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> value <span class="token keyword">in</span> g<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre></div>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
<span class="token number">4</span>
<span class="token number">5</span></code></pre></div>
<p>Everytime the generator is called, it executes all the lines of code until it reaches a <code class="language-text">yield</code> statement. During this execution, the value of <code class="language-text">a</code> changes and is then yielded back to us. </p>
<p>This functionality can be very useful if we need the output of the generator to depend on a previous state. </p>
<h2>Pass values back to the generator</h2>
<p>We have seen how to get values form a generator, but we are yet to see how we can <strong>pass values back to the generator</strong>. </p>
<p>Yes, you heard that right. In addition to yielding a continuous stream of output values, generators can also accept a continuous stream of input values, which they can then use to compute the next output (they are stateful after all). </p>
<p>To pass a value back to the generator, use the <code class="language-text">.send(value)</code> method on the generator instance. </p>
<p>Let's see how this works with an example:</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">my_generator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> 
    a <span class="token operator">=</span> <span class="token keyword">yield</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'a:'</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span>
    a <span class="token operator">=</span> <span class="token keyword">yield</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'a:'</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span>
    <span class="token keyword">yield</span>
    
g <span class="token operator">=</span> my_generator<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token builtin">next</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span>
g<span class="token punctuation">.</span>send<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span>send<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span></code></pre></div>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">a: <span class="token number">1</span>
a: <span class="token number">2</span></code></pre></div>
<p>You might be wondering why we are calling the <code class="language-text">next</code> function in the beggining. It's due to the order in which the <code class="language-text">yield</code> statement executes its actions:</p>
<ul>
<li>it first returns the value that it's yielding and <strong>pauses</strong></li>
<li>it then assigns the value that it's passed with <code class="language-text">.send(value)</code> and the generator continues running until it encounters the next <code class="language-text">yield</code> statement</li>
</ul>
<p>So can you retrieve and send values at the same time ? Of course ! In the following example we will print the stateful variables inside of the generator to better understand what's going on:</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">my_generator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    a <span class="token operator">=</span> <span class="token number">2</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'1) state ->  a:'</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span>
    b <span class="token operator">=</span> <span class="token keyword">yield</span> a
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'2) state ->  a:'</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> <span class="token string">', b:'</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span>
    b <span class="token operator">=</span> <span class="token keyword">yield</span> a <span class="token operator">*</span> b
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'3) state ->  a:'</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> <span class="token string">', b:'</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span>
    <span class="token keyword">yield</span> a <span class="token operator">*</span> b
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'4) state ->  a:'</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> <span class="token string">', b:'</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span>

g <span class="token operator">=</span> my_generator<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'yield:'</span><span class="token punctuation">,</span> <span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'\n'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'yield:'</span><span class="token punctuation">,</span> g<span class="token punctuation">.</span>send<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'\n'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'yield:'</span><span class="token punctuation">,</span> g<span class="token punctuation">.</span>send<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'\n'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'yield:'</span><span class="token punctuation">,</span> <span class="token builtin">next</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'\n'</span><span class="token punctuation">)</span></code></pre></div>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token number">1</span><span class="token punctuation">)</span> state -<span class="token operator">></span>  a: <span class="token number">2</span>
yield: <span class="token number">2</span> 

<span class="token number">2</span><span class="token punctuation">)</span> state -<span class="token operator">></span>  a: <span class="token number">2</span> , b: <span class="token number">10</span>
yield: <span class="token number">20</span> 

<span class="token number">3</span><span class="token punctuation">)</span> state -<span class="token operator">></span>  a: <span class="token number">2</span> , b: <span class="token number">200</span>
yield: <span class="token number">400</span> 

<span class="token number">4</span><span class="token punctuation">)</span> state -<span class="token operator">></span>  a: <span class="token number">2</span> , b: <span class="token number">1000</span>

---------------------------------------------------------------------------
StopIteration                             Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span>
<span class="token operator">&lt;</span>ipython-input-59-96abd9b795ea<span class="token operator">></span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>
     <span class="token number">16</span> print<span class="token punctuation">(</span><span class="token string">'yield:'</span>, gen.send<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>, <span class="token string">'<span class="token entity" title="\n">\n</span>'</span><span class="token punctuation">)</span>
     <span class="token number">17</span> print<span class="token punctuation">(</span><span class="token string">'yield:'</span>, gen.send<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>, <span class="token string">'<span class="token entity" title="\n">\n</span>'</span><span class="token punctuation">)</span>
---<span class="token operator">></span> <span class="token number">18</span> print<span class="token punctuation">(</span><span class="token string">'yield:'</span>, gen.send<span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span>, <span class="token string">'<span class="token entity" title="\n">\n</span>'</span><span class="token punctuation">)</span>
     <span class="token number">19</span> print<span class="token punctuation">(</span><span class="token string">'yield:'</span>, next<span class="token punctuation">(</span>gen<span class="token punctuation">)</span>, <span class="token string">'<span class="token entity" title="\n">\n</span>'</span><span class="token punctuation">)</span>

StopIteration:</code></pre></div>
<p>Note how the last call will raise a <code class="language-text">StopIteration</code> exception. Remember: The exception is raised when the generator reaches the end of its code and there are no more <code class="language-text">yield</code> statements left to execute. </p>
<h2>Generators delay computations until necessary</h2>
<h3>A prime numbers generator</h3>
<p>A more eloquent way of putting it would be to say that that generators <strong>map an input value to a computation</strong> as opposed to what classic functions do, which is mapping an input value to an output value. The computation is delayed until the value of that computation is explicitely requested. This paradigm is commonly referred to as <strong>lazy evaluation</strong>. </p>
<p>Suppose you want to calculate all prime numbers up to a certain max integer. Normally you would have to calculate them all at once, wait for it to finish, and then proceed with the next thing you want to do with them. </p>
<p>With the help of generators, you can retrieve the values as they are being computed. You could say you are <em>subscribing</em> to the stream the stream of prime numbers. This is a very powerful idea, since it allows us to do something with the values we already have without having to wait for the entire computation to finish. </p>
<p>Let's start with a function that calculates whether a number is prime:</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">is_prime</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>num<span class="token operator">**</span><span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> num <span class="token operator">%</span> i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
    <span class="token keyword">return</span> <span class="token boolean">True</span></code></pre></div>
<p>Now let's write up the generator:</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">generate_primes</span><span class="token punctuation">(</span>max_num<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> num <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> max_num<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> is_prime<span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">yield</span> num</code></pre></div>
<p>And iterate over its values:</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">for</span> value <span class="token keyword">in</span> generate_primes<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre></div>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token number">2</span>
<span class="token number">3</span>
<span class="token number">5</span>
<span class="token number">7</span>
<span class="token number">11</span>
<span class="token number">13</span>
<span class="token number">17</span>
<span class="token number">19</span>
<span class="token number">23</span>
<span class="token number">29</span>
<span class="token number">31</span>
<span class="token number">37</span>
<span class="token number">41</span>
<span class="token number">43</span>
<span class="token number">47</span></code></pre></div>
<h3>Animate a plot as prime numbers are being generated</h3>
<p>Let's try something a bit more fancy. As the prime numbers are being computed, we plot them in polar coordinates on a graph. The prime number's value <strong>p</strong> will be both the distance from the origin <strong>r</strong> and the angle <strong>Î¸</strong> (in radians). The cartesian coordinates are thus $(p%20cos(p),%20p%20sin(p))$.  <img src="https://render.githubusercontent.com/render/math?math=e^{i \pi} = -1"></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">import</span> math
<span class="token keyword">import</span> time

<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>animation <span class="token keyword">as</span> animation
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">from</span> matplotlib <span class="token keyword">import</span> style

<span class="token keyword">def</span> <span class="token function">is_prime</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>num<span class="token operator">**</span><span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> num <span class="token operator">%</span> i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
    <span class="token keyword">return</span> <span class="token boolean">True</span>

<span class="token keyword">def</span> <span class="token function">generate_primes</span><span class="token punctuation">(</span>max_num<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> num <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> max_num<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> is_prime<span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">yield</span> num

<span class="token keyword">def</span> <span class="token function">polar_to_cartesian</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> theta<span class="token punctuation">)</span><span class="token punctuation">:</span>
    x <span class="token operator">=</span> r <span class="token operator">*</span> math<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>theta<span class="token punctuation">)</span>
    y <span class="token operator">=</span> r <span class="token operator">*</span> math<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>theta<span class="token punctuation">)</span>
    <span class="token keyword">return</span> x<span class="token punctuation">,</span> y

style<span class="token punctuation">.</span>use<span class="token punctuation">(</span><span class="token string">'fivethirtyeight'</span><span class="token punctuation">)</span>
fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
ax1 <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_subplot<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>

N_MAX <span class="token operator">=</span> <span class="token number">2500</span>
g <span class="token operator">=</span> generate_primes<span class="token punctuation">(</span>N_MAX<span class="token punctuation">)</span>
xs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
ys <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token keyword">def</span> <span class="token function">animate</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        value <span class="token operator">=</span> <span class="token builtin">next</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span>
    <span class="token keyword">except</span> StopIteration<span class="token punctuation">:</span>
        <span class="token keyword">return</span>
    x<span class="token punctuation">,</span> y <span class="token operator">=</span> polar_to_cartesian<span class="token punctuation">(</span>value<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
    xs<span class="token punctuation">.</span>append<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
    ys<span class="token punctuation">.</span>append<span class="token punctuation">(</span>y<span class="token punctuation">)</span>
    ax1<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span>
    ax1<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>xs<span class="token punctuation">,</span> ys<span class="token punctuation">,</span> s<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>
    ax1<span class="token punctuation">.</span>set_xlim<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span>N_MAX<span class="token punctuation">,</span> N_MAX<span class="token punctuation">]</span><span class="token punctuation">)</span>
    ax1<span class="token punctuation">.</span>set_ylim<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span>N_MAX<span class="token punctuation">,</span> N_MAX<span class="token punctuation">]</span><span class="token punctuation">)</span>
    
    fig<span class="token punctuation">.</span>suptitle<span class="token punctuation">(</span><span class="token string">'Prime numbers in polar coordinates'</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span>fontsize<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>yticks<span class="token punctuation">(</span>fontsize<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span>

anim <span class="token operator">=</span> animation<span class="token punctuation">.</span>FuncAnimation<span class="token punctuation">(</span>fig<span class="token punctuation">,</span> animate<span class="token punctuation">,</span> interval<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<p>Which should generate the following plot:</p>
<img src="/0445c41d0925a5976011015d649e241d/prime_numbers_spiral_2.gif" width="550" style="display: block; margin: 40px auto" />
<p>Do you notice how the prime number form these spirals from the origin ? This plot illustrates, as Grant from <a href="https://www.youtube.com/channel/UCYO_jab_esuFRV4b17AJtAw/featured">3blue1brown</a> has put it: </p>
<blockquote>
<p>How pretty but pointless patterns in polar plots of primes prompt pretty important ponderings on properties of those primes. </p>
</blockquote>
<p>Definitely checkout his <a href="https://www.youtube.com/watch?v=EK32jo7i5LQ&#x26;t=1s">video</a> on this to learn more (100% worth it). </p>
<br/>
<h2>Infinite streams</h2>
<p>One of the most useful things you can do with generators is creating inifite streams of values. One real example that I have encountered was when I was writing a SQL query with a lot of conditional <code class="language-text">WHERE</code> clauses. The first condition needs to start with a <code class="language-text">WHERE</code>, while all the following ones need to be preceded with <code class="language-text">AND</code>. </p>
<div class="gatsby-highlight" data-language="sql"><pre class="language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token keyword">table</span>
<span class="token keyword">WHERE</span> condition1
<span class="token operator">AND</span> condition2</code></pre></div>
<p>The problem we had was that we didn't know if any condition was going to be applied at all. Luckily, a simple generator came to the rescue:</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">where_generator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">yield</span> <span class="token string">'WHERE'</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        <span class="token keyword">yield</span> <span class="token string">'AND'</span>

where <span class="token operator">=</span> where_generator<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>where<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">WHERE
AND
AND
AND</code></pre></div>
<p>And that's it !</p>
<p>If you want to go to the next level of Pythonista, try using the <code class="language-text">itertools</code> library provided out of the box by Python. </p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> itertools <span class="token keyword">import</span> chain<span class="token punctuation">,</span> repeat

where <span class="token operator">=</span> chain<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'WHERE'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> repeat<span class="token punctuation">(</span><span class="token string">'AND'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>where<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">WHERE
AND
AND
AND</code></pre></div>
<p>Thank you for reading !</p></div></div><div class="blog-post-module--navlinks--Iep78"><div class="blog-post-module--navprev--1GRP9"></div><div class="blog-post-module--navnext--3Yd9-"><div class="blog-post-module--navlinkdiv--f3pWb"><a href="/python-decorators/"><span style="margin-right:7px">next: </span>Learn Python decorators to simplify repeated pieces of logic<span style="margin-left:7px">â†’</span></a></div></div></div></div><footer style="text-align:center">Â© Evgeny Roskach</footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-134214549-1',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(!(parseInt(navigator.doNotTrack) === 1 || parseInt(window.doNotTrack) === 1 || parseInt(navigator.msDoNotTrack) === 1 || navigator.doNotTrack === "yes")) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-134214549-1', 'auto', {});
      ga('set', 'anonymizeIp', true);
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/python-generators/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-bfa7222071ec5d114ab1.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-ebda79b2f242b4f85f83.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-74b0447917af3fdfbd65.js"],"component---src-pages-404-js":["/component---src-pages-404-js-4e3b7ac18d070b7f22a9.js"],"component---src-pages-about-me-js":["/component---src-pages-about-me-js-77cd2b963571a295d0de.js"],"component---src-pages-index-js":["/component---src-pages-index-js-42fec5973e9a3bf62a16.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-js-74b0447917af3fdfbd65.js" async=""></script><script src="/commons-02da7c81015f33fc39a7.js" async=""></script><script src="/styles-277438bf92f1a9bf84e5.js" async=""></script><script src="/app-bfa7222071ec5d114ab1.js" async=""></script><script src="/webpack-runtime-021c94a6dee35f2ca117.js" async=""></script></body></html>